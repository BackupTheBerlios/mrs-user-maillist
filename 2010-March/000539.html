<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mrs-user] MRS boolean operators and memory issues
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mrs-user/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:mrs-user%40lists.berlios.de?Subject=Re%3A%20%5BMrs-user%5D%20MRS%20boolean%20operators%20and%20memory%20issues&In-Reply-To=%3C4BAB0B53.4080105%40cmbi.ru.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000538.html">
   <LINK REL="Next"  HREF="000540.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mrs-user] MRS boolean operators and memory issues</H1>
    <B>Maarten L. Hekkelman</B> 
    <A HREF="mailto:mrs-user%40lists.berlios.de?Subject=Re%3A%20%5BMrs-user%5D%20MRS%20boolean%20operators%20and%20memory%20issues&In-Reply-To=%3C4BAB0B53.4080105%40cmbi.ru.nl%3E"
       TITLE="[Mrs-user] MRS boolean operators and memory issues">m.hekkelman at cmbi.ru.nl
       </A><BR>
    <I>Thu Mar 25 08:05:55 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000538.html">[Mrs-user] MRS boolean operators and memory issues
</A></li>
        <LI>Next message: <A HREF="000540.html">[Mrs-user] MRS boolean operators and memory issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#539">[ date ]</a>
              <a href="thread.html#539">[ thread ]</a>
              <a href="subject.html#539">[ subject ]</a>
              <a href="author.html#539">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Op 25-03-10 05:58, Georgios Magklaras schreef:

&gt;<i> Two quick issues/suggestions:
</I>&gt;<i>
</I>&gt;<i> a)The MRS manual page for Boolean Operators states:
</I>&gt;<i> &quot;Since version 3 MRS no longer accepts the text versions of the
</I>&gt;<i> operators, you now have to use the single character ones &amp;, | and !.&quot;
</I>&gt;<i>
</I>&gt;<i> This is not true as far as I can see. The text representations (AND, OR,
</I>&gt;<i> NOT) are still functioning both on the web interface and the
</I>&gt;<i> command-line client. So, the above text needs to change.
</I>&gt;<i>
</I>&gt;<i> de:H1N1 AND NOT(os:human) gives the same results as
</I>&gt;<i>
</I>&gt;<i> de:H1N1 !os:human
</I>
That's correct, as long as you keep the keywords uppercase.

(Hmmm... I thought I removed that code but it is still there. weird.)

I'll fix the manual.

&gt;<i> In addition, when it comes to the command-line world (mrs-query) and the
</I>&gt;<i> programmatic access world (MRS::Client), the symbol representations
</I>&gt;<i> might create problems (! and &amp; for example need proper shell
</I>&gt;<i> escaping...etc). For these reasons, I suggest that it would be better to
</I>&gt;<i> have the textual representations of the binary operators as the default
</I>&gt;<i> ones.
</I>
You're right.

&gt;<i> b)This could be really a Tomcat / Java server admin issue, but after
</I>&gt;<i> giving a course that included MRS 4, I found that is best to really set
</I>&gt;<i> up the JAVA heap size and memory limits quite high. During the first
</I>&gt;<i> part of the course (about 20 students, hence 20 active sessions), I
</I>&gt;<i> started the Tomcat server with the default options, only to realize that
</I>&gt;<i> the SOAP server was giving up due to the fact that it was reaching a
</I>&gt;<i> certain memory size. So, I reset the Catalina file JAVA_OPTS to the
</I>&gt;<i> following (on a 64 Gb RAM box)
</I>&gt;<i>
</I>&gt;<i> JAVA_OPTS=&quot;$JAVA_OPTS -Xms32768m -Xmx49152m
</I>&gt;<i> -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager&quot;
</I>&gt;<i>
</I>&gt;<i> and I found that this solved the issue of the SOAP server giving up.
</I>&gt;<i> Right ? (I mean have you seen these issues during heavy usage scenarios?)
</I>
I've dumped Tomcat completely. I had too many problems with it. We're 
using glassfish here and it appears to be much more stable and easier to 
administer since you can set up separate domains that each have their 
own JVM, that way you can have multiple web applications running in 
their own JVM on the same machine.

One still has to tweak the JVM options like you did. Not as extreme, we 
don't all have 64 spare gigabytes :-) This is what we use:

-XX:MaxPermSize=512m

and

-Xmx2048m

And that seems to be good enough to keep our server up, even during 
student courses.

-maarten

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000538.html">[Mrs-user] MRS boolean operators and memory issues
</A></li>
	<LI>Next message: <A HREF="000540.html">[Mrs-user] MRS boolean operators and memory issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#539">[ date ]</a>
              <a href="thread.html#539">[ thread ]</a>
              <a href="subject.html#539">[ subject ]</a>
              <a href="author.html#539">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mrs-user">More information about the Mrs-user
mailing list</a><br>
</body></html>
